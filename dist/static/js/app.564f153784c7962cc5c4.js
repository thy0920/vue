webpackJsonp([1],{"+7zb":function(t,e){},AoIV:function(t,e){},D7Nf:function(t,e){},Fjs4:function(t,e){},JqRF:function(t,e){},"K/nv":function(t,e){},MEqo:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("IvJb"),a=n("4YfN"),o=n.n(a),r=n("9rMa"),s={computed:o()({},r.a.mapState({bar:function(t){return t.bar}}))},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bar"},[n("ul",t._l(t.bar,function(e,i){return n("li",[n("router-link",{attrs:{to:{name:e.name}}},[t._v(t._s(e.title))])],1)}))])},staticRenderFns:[]};var l={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"mask",on:{click:this.xxx}})},staticRenderFns:[]};var u={data:function(){return{show_bar:!1}},components:{"slidebar-com":n("C7Lr")(s,c,!1,function(t){n("Fjs4")},"data-v-122b8c8f",null).exports,"mask-com":n("C7Lr")({data:function(){return{}},methods:{xxx:function(){this.$emit("handleshow",!1)}}},l,!1,function(t){n("eaU8")},null,null).exports},methods:{handleToggle:function(){this.show_bar=!this.show_bar},handmask:function(t){this.show_bar=t}}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"top"},[n("div",{attrs:{id:"header"}},[n("div",{staticClass:"header_l",on:{click:function(e){t.handleToggle()}}},[t._m(0)]),t._v(" "),t._m(1)]),t._v(" "),n("transition",{attrs:{name:"slide"}},[n("slidebar-com",{directives:[{name:"show",rawName:"v-show",value:t.show_bar,expression:"show_bar"}]})],1),t._v(" "),n("transition",{attrs:{name:"fade"}},[n("mask-com",{directives:[{name:"show",rawName:"v-show",value:t.show_bar,expression:"show_bar"}],on:{handleshow:t.handmask}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"bar",attrs:{href:"javascript:;"}},[e("i",{staticClass:"iconfont"},[this._v("")]),this._v(" "),e("h3",[this._v("卖座网")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header_r"},[e("ul",[e("li",[e("span",[this._v("广州")]),this._v(" "),e("i",{staticClass:"iconfont"},[this._v("")])]),this._v(" "),e("li",[e("i",{staticClass:"iconfont"},[this._v("")])])])])}]};var v={components:{"header-com":n("C7Lr")(u,m,!1,function(t){n("VTCT")},"data-v-594c2b20",null).exports}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("header-com"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var p=n("C7Lr")(v,d,!1,function(t){n("+7zb")},null,null).exports,f=n("zO6J"),h=n("tCoB"),_=(n("wiGe"),{methods:o()({},r.a.mapActions({getBanner:"movie/getBanner"})),computed:o()({},r.a.mapState({imgs:function(t){return t.movie.imgs}})),watch:{imgs:function(){this.$nextTick(function(){new h.a(".swiper-container",{loop:!0,autoplay:{disableOnInteraction:!1},pagination:{el:".swiper-pagination"}})})}},created:function(){this.getBanner()}}),g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"swiper-container"},[e("div",{staticClass:"swiper-wrapper"},this._l(this.imgs,function(t,n){return e("div",{staticClass:"swiper-slide"},[e("img",{attrs:{src:t.imageUrl}})])})),this._v(" "),e("div",{staticClass:"swiper-pagination"})])},staticRenderFns:[]};var w=n("C7Lr")(_,g,!1,function(t){n("Zhf/")},"data-v-4e2311d6",null).exports,x={computed:o()({},r.a.mapState({nowPlay:function(t){if(t.movie.nowPlay.length>0)return t.movie.nowPlay}})),methods:o()({},r.a.mapActions({getnowPlay:"movie/getnowPlay"})),created:function(){this.getnowPlay()}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nowPlay"},[t._l(t.nowPlay,function(e,i){return n("div",{staticClass:"nowMovie"},[n("div",[n("img",{attrs:{src:e.cover.origin}})]),t._v(" "),n("div",{staticClass:"desc"},[n("div",[n("p",[t._v(t._s(e.name))]),t._v(" "),n("div",[n("span",[t._v(t._s(e.cinemaCount))]),t._v("家上影院映"),n("span",[t._v(t._s(e.watchCount))]),t._v("人购票")])]),t._v(" "),n("div",[t._v(t._s(e.grade))])])])}),t._v(" "),n("div",{staticClass:"more"},[t._v("更多热映电影")])],2)},staticRenderFns:[]};var M=n("C7Lr")(x,C,!1,function(t){n("AoIV")},null,null).exports,b={created:function(){this.getUpMovie()},methods:o()({},r.a.mapActions({getUpMovie:"movie/getUpMovie"})),computed:o()({},r.a.mapState({upMovie:function(t){return t.movie.upMovie}}))},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"upcoming"},[n("div",{staticClass:"upMove_title"},[t._v("即将上映")]),t._v(" "),t._l(t.upMovie,function(e,i){return n("div",{staticClass:"upMovie"},[n("div",[n("img",{attrs:{src:e.cover.origin}})]),t._v(" "),n("div",{staticClass:"upMovie_desc"},[n("div",[t._v(t._s(e.name))]),t._v(" "),n("div",[t._v(t._s(e.date))])])])})],2)},staticRenderFns:[]};var q={components:{"banner-com":w,"nowplay-com":M,"upcom-com":n("C7Lr")(b,y,!1,function(t){n("zb5+")},null,null).exports}},E={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home page"},[e("banner-com"),this._v(" "),e("nowplay-com"),this._v(" "),e("upcom-com")],1)},staticRenderFns:[]};var F=n("C7Lr")(q,E,!1,function(t){n("D7Nf")},null,null).exports,$={created:function(){this.nowPlayMore(),this.$router.push({name:"nowMovie"})},methods:o()({},r.a.mapActions({nowPlayMore:"movie/nowPlayMore"}))},P={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"films_movie page"},[e("ul",{staticClass:"fixed"},[e("li",[e("router-link",{attrs:{to:{name:"nowMovie"}}},[this._v("正在热映")])],1),this._v(" "),e("li",[e("router-link",{attrs:{to:{name:"coming"}}},[this._v("即将热映")])],1)]),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var L=n("C7Lr")($,P,!1,function(t){n("MEqo")},"data-v-309c76a6",null).exports,T=n("C7Lr")(null,null,!1,null,null,null).exports,R=n("yKqG"),A={data:function(){return{page:2,timer:null}},computed:o()({},r.a.mapState({movies:function(t){return t.movie.movieMore}})),methods:o()({},r.a.mapActions({updateMovie:"movie/updateMovie"}),{handleGo:function(t){this.$router.push({path:"xq",query:{id:t}})}}),mounted:function(){this.scroll=new R.a(this.$refs.wrapper,{click:!0})},updated:function(){var t=this;setTimeout(function(){t.scroll.refresh()},100),this.scroll.on("scrollEnd",function(){t.page<7&&!t.timer&&(t.timer=setTimeout(function(){t.updateMovie(t.page++),t.timer=null},1500))})}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"wrapper",staticClass:"playing wrapper"},[n("ul",{staticClass:"content"},t._l(t.movies,function(e,i){return n("li",{on:{click:function(n){t.handleGo(e.id)}}},[n("div",[n("img",{attrs:{src:e.poster.origin}}),t._v(" "),n("div",{staticClass:"desc"},[n("p",[t._v(t._s(e.name))]),t._v(" "),n("p",[t._v(t._s(e.intro))]),t._v(" "),n("p",[n("span",[t._v(t._s(e.cinemaCount)+"家影院上映")]),t._v(" "),n("span",[t._v(t._s(e.watchCount)+"人购票")])])])]),t._v(" "),n("div",[t._v(t._s(e.grade)),n("i",[t._v(">")])])])})),t._v(" "),n("router-view")],1)},staticRenderFns:[]};var S=n("C7Lr")(A,k,!1,function(t){n("K/nv")},"data-v-4affa8ca",null).exports,z={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("1\n    "),n("p",[t._v("111")]),t._v(" "),n("p",[t._v("111")]),t._v(" "),n("p",[t._v("111")]),t._v(" "),n("p",[t._v("111")]),t._v(" "),n("p",[t._v("111")]),t._v(" "),n("p",[t._v("111")]),t._v(" "),n("p",[t._v("111")]),t._v(" "),n("p",[t._v("111")]),t._v(" "),n("p",[t._v("111")])])}]};var U=n("C7Lr")({},z,!1,function(t){n("JqRF")},null,null).exports,D={data:function(){return{id:""}},created:function(){this.id=this.$route.query.id,this.$store.dispatch("movie/xqMovie",this.id),console.log(this.id),console.log(this.xq.name)},methods:o()({},r.a.mapActions({xqMovie:"movie/xqMovie"})),computed:o()({},r.a.mapState({xq:function(t){return t.movie.xqmovie}}))},B={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"xqw"},[e("p",[this._v(this._s(this.xq.name))]),this._v(" "),e("p",[e("img",{attrs:{src:this.xq.cover.origin}})])])])},staticRenderFns:[]};var I=n("C7Lr")(D,B,!1,function(t){n("g7ys")},null,null).exports;i.a.use(f.a);var J=new f.a({routes:[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:F},{path:"/movie",name:"movie",component:L,children:[{name:"nowMovie",path:"nowMovie",component:S},{name:"coming",path:"coming",component:U},{name:"xq",path:"xq",component:I}]},{path:"/cinema",name:"cinema",component:T}]}),N=n("n1Do"),V=n.n(N),G=n("aozt"),j=n.n(G),H={getBanner:function(t){var e=t.commit;j()({method:"get",url:"/v4/api/billboard/home",data:{__t:(new Date).getTime()}}).then(function(t){e("getBanner",t.data.data.billboards)})},getnowPlay:function(t){var e=t.commit;j()({method:"get",url:"/v4/api/film/now-playing?page=1&count=5",data:{__t:(new Date).getTime()}}).then(function(t){e("getnowPlay",t.data.data.films)})},getUpMovie:function(t){var e=t.commit;j()({method:"get",url:"/v4/api/film/coming-soon?page=1&count=3",data:{__t:(new Date).getTime()}}).then(function(t){(t=t.data.data.films).map(function(t){var e=t.premiereAt,n=new Date(e),i=n.getMonth()+1,a=n.getDate();t.date=i+"月"+a+"日上映"}),e("getUpMovie",t)})},nowPlayMore:function(t){var e=t.commit;j()({method:"get",url:"/v4/api/film/now-playing?page=1&count=7"}).then(function(t){e("nowPlayMore",t.data.data.films)})},updateMovie:function(t,e){var n=t.commit;j()({method:"get",url:"/v4/api/film/now-playing?page="+e+"&count=7"}).then(function(t){n("nowPlayMore",t.data.data.films)})},xqMovie:function(t,e){var n=t.commit;j()({method:"get",url:"/v4/api/film/"+e}).then(function(t){console.log(t.data.data.film),n("xqMovie",t.data.data.film)})}},O=n("IHPB"),K=n.n(O),Z={getBanner:function(t,e){t.imgs=e},getnowPlay:function(t,e){t.nowPlay=e},getUpMovie:function(t,e){t.upMovie=e},nowPlayMore:function(t,e){t.movieMore=[].concat(K()(t.movieMore),K()(e))},xqMovie:function(t,e){t.xqmovie=e}},Y={namespaced:!0,state:{imgs:[],nowPlay:[],upMovie:[],movieMore:[],xqmovie:[]},getters:V.a,actions:H,mutations:Z};i.a.use(r.a);var Q=new r.a.Store({state:{bar:[{name:"home",title:"首页"},{name:"movie",title:"影片"},{name:"cinema",title:"影院"}]},getters:{},mutations:{},actions:{},modules:{movie:Y}});n("yJIU"),n("erth"),n("fzw+");i.a.config.productionTip=!1,new i.a({el:"#app",router:J,store:Q,components:{App:p},template:"<App/>"})},VTCT:function(t,e){},"Zhf/":function(t,e){},eaU8:function(t,e){},erth:function(t,e){},"fzw+":function(t,e){},g7ys:function(t,e){},n1Do:function(t,e){},wiGe:function(t,e){},yJIU:function(t,e){!function(t,e){var n,i=t.document,a=i.documentElement,o=i.querySelector('meta[name="viewport"]'),r=i.querySelector('meta[name="flexible"]'),s=0,c=0,l=e.flexible||(e.flexible={});if(o){var u=o.getAttribute("content").match(/initial\-scale=([\d\.]+)/);u&&(c=parseFloat(u[1]),s=parseInt(1/c))}else if(r){var m=r.getAttribute("content");if(m){var v=m.match(/initial\-dpr=([\d\.]+)/),d=m.match(/maximum\-dpr=([\d\.]+)/);v&&(s=parseFloat(v[1]),c=parseFloat((1/s).toFixed(2))),d&&(s=parseFloat(d[1]),c=parseFloat((1/s).toFixed(2)))}}if(!s&&!c){t.navigator.appVersion.match(/android/gi);var p=t.navigator.appVersion.match(/iphone/gi),f=t.devicePixelRatio;c=1/(s=p?f>=3&&(!s||s>=3)?3:f>=2&&(!s||s>=2)?2:1:1)}if(a.setAttribute("data-dpr",s),!o)if((o=i.createElement("meta")).setAttribute("name","viewport"),o.setAttribute("content","initial-scale="+c+", maximum-scale="+c+", minimum-scale="+c+", user-scalable=no"),a.firstElementChild)a.firstElementChild.appendChild(o);else{var h=i.createElement("div");h.appendChild(o),i.write(h.innerHTML)}function _(){var e=a.getBoundingClientRect().width;console.log(e),e/s>768&&(e=768*s);var n=e/7.5;a.style.fontSize=n+"px",l.rem=t.rem=n}t.addEventListener("resize",function(){clearTimeout(n),n=setTimeout(_,300)},!1),t.addEventListener("pageshow",function(t){t.persisted&&(clearTimeout(n),n=setTimeout(_,300))},!1),"complete"===i.readyState?i.body.style.fontSize=12*s+"px":i.addEventListener("DOMContentLoaded",function(t){i.body.style.fontSize=12*s+"px"},!1),_(),l.dpr=t.dpr=s,l.refreshRem=_,l.rem2px=function(t){var e=parseFloat(t)*this.rem;return"string"==typeof t&&t.match(/rem$/)&&(e+="px"),e},l.px2rem=function(t){var e=parseFloat(t)/this.rem;return"string"==typeof t&&t.match(/px$/)&&(e+="rem"),e}}(window,window.lib||(window.lib={}))},"zb5+":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.564f153784c7962cc5c4.js.map